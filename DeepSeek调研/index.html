<!DOCTYPE html>
<html lang="z">
<head>
    <meta name="google-site-verification" content="NaIIcXnJZ31tpKODfIa1yirG6EC32zDyxSbJVLVbef0" />
    <meta name="baidu-site-verification" content="qmiYS1v08K" />
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>【大模型】DeepSeek调研 | Chance</title>
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="iOS developer">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="【大模型】DeepSeek调研 | Chance">
    <meta name="twitter:description" content="iOS developer">

    <meta property="og:type" content="article">
    <meta property="og:title" content="【大模型】DeepSeek调研 | Chance">
    <meta property="og:description" content="iOS developer">

    
    <meta name="author" content="Chance">
    
    <link rel="stylesheet" href="/css/vno.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

    
    <link rel="icon" href="/images/avatar-small.png">
    

    <meta name="generator" content="hexo"/>
    
    <link rel="alternate" type="application/rss+xml" title="Chance" href="/atom.xml">
    

    <link rel="canonical" href="http://chanceli.com/DeepSeek调研/"/>

                 
</head>

<body class="home-template no-js">
    <script src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>

    
<header class="panel-cover panel-cover--collapsed" style="background-image: url(/images/background-cover.jpg)">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/" title="前往 Chance 的主页"><img src="/images/avatar.jpg" width="80" alt="Chance logo" class="panel-cover__logo logo"></a>
        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage for Chance">Chance</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">Stay hungry, stay foolish.</span>
        
        <hr class="panel-cover__divider">
        <p class="panel-cover__description">iOS developer</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">
          <div>
          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="访问博客" class="blog-button">博客</a></li>
            
              <li class="navigation__item"><a href="https://www.jianshu.com/u/79e2c989affa">简书</a></li>
            
              <li class="navigation__item"><a href="/about/">关于</a></li>
            
            </ul>
          </nav>
          </div>
          <div>
          <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  <!-- Weibo-->
  

  <!-- Github -->
  
  <li class="navigation__item">
    <a href="https://github.com/lcbest" title="查看我的GitHub主页" target="_blank">
      <i class="social fa fa-github"></i>
      <span class="label">Github</span>
    </a>
  </li>


<!-- Stack Overflow -->
        

  <!-- Google Plus -->
  

<!-- Facebook -->

  <li class="navigation__item">
    <a href="https://www.facebook.com/lichangpro" title="上Facebook找我" target="_blank">
      <i class="social fa fa-facebook"></i>
      <span class="label">Facebook</span>
    </a>
  </li>

  
<!-- Twitter -->

  <li class="navigation__item">
    <a href="https://twitter.com/pass7580" title="上Twitter找我" target="_blank">
      <i class="social fa fa-twitter"></i>
      <span class="label">Twitter</span>
    </a>
  </li>

  

  <li class="navigation__item">
    <a href="/atom.xml" title="RSS" target="_blank">
      <i class="social fa fa-rss"></i>
      <span class="label">RSS</span>
    </a>
  </li>


  <li class="navigation__item">
    <a href="mailto:lc@chanceli.com" title="邮件联系我" target="_blank">
      <i class="social fa fa-envelope"></i>
      <span class="label">Email</span>
    </a>
  </li>


  </ul>
</nav>

          </div>
        </div>

      </div>

    </div>

    <div class="panel-cover--overlay cover-disabled"></div>
  </div> 
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single">

  <header class="post-header">
    <div class="post-meta">
      <time datetime="2025-03-05T11:48:00.000Z" class="post-list__meta--date date">2025-03-05</time> &#8226; <span class="post-meta__tags tags">于 
  <a class="tag-link" href="/tags/大模型/">大模型</a>
 </span>
      <span class="page-pv">
       阅读 <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>
      </span> 
   
    </div>
    <h1 class="post-title">【大模型】DeepSeek调研</h1>
  </header>

  <section class="post">
    <h2 id="本地部署"><a href="#本地部署" class="headerlink" title="本地部署"></a>本地部署</h2><h3 id="1-下载安装Ollama"><a href="#1-下载安装Ollama" class="headerlink" title="1.下载安装Ollama"></a>1.下载安装Ollama</h3><p><a href="https://ollama.com/download" target="_blank" rel="noopener">https://ollama.com/download</a> </p>
<h3 id="2-下载运行deepseek-r1"><a href="#2-下载运行deepseek-r1" class="headerlink" title="2.下载运行deepseek-r1"></a>2.下载运行deepseek-r1</h3><p><a href="https://ollama.com/library/deepseek-r1:1.5b" target="_blank" rel="noopener">https://ollama.com/library/deepseek-r1:1.5b</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ollama run deepseek-r1:1.5b</span><br></pre></td></tr></table></figure></p>
<h3 id="3-局域网访问API"><a href="#3-局域网访问API" class="headerlink" title="3.局域网访问API"></a>3.局域网访问API</h3><p>（1）修改监听地址 ~/.zshrc<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 设置Ollama监听所有网络接口（0.0.0.0表示允许所有IP访问）</span><br><span class="line">export OLLAMA_HOST=0.0.0.0:11434</span><br></pre></td></tr></table></figure></p>
<p>（2）立即生效<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.zshrc</span><br></pre></td></tr></table></figure></p>
<p>（3）不生效可以用下面这个<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OLLAMA_HOST=0.0.0.0 ollama serve</span><br></pre></td></tr></table></figure></p>
<p>可以访问了：<a href="http://10.33.158.12:11434/api/tags" target="_blank" rel="noopener">http://10.33.158.12:11434/api/tags</a> </p>
<h2 id="意图识别"><a href="#意图识别" class="headerlink" title="意图识别"></a>意图识别</h2><h3 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h3><p>本地部署 DeepSeek 后，要让它能够进行意图识别（例如把“这个房子的租金是多少”映射到“查租金”），有以下几种方式：</p>
<h4 id="1-通过-system-提示词-Prompt-设定规则"><a href="#1-通过-system-提示词-Prompt-设定规则" class="headerlink" title="1.通过 system 提示词 (Prompt) 设定规则"></a>1.通过 system 提示词 (Prompt) 设定规则</h4><p>你可以在 system 提示词中提供指导，告诉 DeepSeek 需要按照你的要求进行意图分类，例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">你是一个经验丰富的专业租赁经纪人，负责识别用户的意图，并返回 JSON 格式的结果。  </span><br><span class="line">你只需要返回 JSON，不要输出其他内容。  </span><br><span class="line"></span><br><span class="line">返回格式如下：</span><br><span class="line">&#123;</span><br><span class="line">  &quot;command&quot;: &quot;意图名称&quot;,</span><br><span class="line">  &quot;text&quot;: &quot;简短的回应&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">意图类别：</span><br><span class="line">- &quot;查租金&quot;：如果用户询问房屋租金、价格或费用相关信息</span><br><span class="line">- &quot;发放优惠券&quot;: 如果用户询问房源优惠信息</span><br><span class="line">- &quot;看厨房&quot;: 我想看看厨房</span><br><span class="line">- &quot;预约实地带看&quot;: 如果用户希望安排看房，想实地看看</span><br><span class="line">- &quot;线上签约&quot;: 如果用户想在线签约</span><br><span class="line">- &quot;推荐房源&quot;：如果用户询问还有别的房子可以看吗？有其他推荐吗？</span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">用户：这个房子的租金是多少？</span><br><span class="line">你应该回复：</span><br><span class="line">&#123;</span><br><span class="line">  &quot;command&quot;: &quot;查租金&quot;,</span><br><span class="line">  &quot;text&quot;: &quot;好的，帮你查一下租金&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">用户：附近有什么房子出租？</span><br><span class="line">你应该回复：</span><br><span class="line">&#123;</span><br><span class="line">  &quot;command&quot;: &quot;推荐房源&quot;,</span><br><span class="line">  &quot;text&quot;: &quot;我来帮你找附近的房源&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">用户：我想预约看房</span><br><span class="line">你应该回复：</span><br><span class="line">&#123;</span><br><span class="line">  &quot;command&quot;: &quot;预约实地带看&quot;,</span><br><span class="line">  &quot;text&quot;: &quot;好的，帮你预约看房&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">用户：有优惠吗？</span><br><span class="line">你应该回复：</span><br><span class="line">&#123;</span><br><span class="line">  &quot;command&quot;: &quot;发放优惠券&quot;,</span><br><span class="line">  &quot;text&quot;: &quot;好的，帮你查看优惠信息&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">请严格按照 JSON 格式返回，不要输出其他内容。</span><br></pre></td></tr></table></figure></p>
<p>然后，你在调用 DeepSeek 的时候，把这个 system 提示词加入 messages 参数中，让模型按此规则识别意图。</p>
<h4 id="2-微调-Fine-tuning"><a href="#2-微调-Fine-tuning" class="headerlink" title="2.微调 (Fine-tuning)"></a>2.微调 (Fine-tuning)</h4><p>如果你的需求很稳定，并且你有较多的训练数据（比如用户问题和对应意图的标注数据），可以微调 DeepSeek，让它专门适应你的任务。例如，你可以用类似这样的标注数据：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;input&quot;: &quot;这个房子的租金是多少？&quot;, &quot;output&quot;: &quot;查租金&quot;&#125;</span><br><span class="line">&#123;&quot;input&quot;: &quot;附近有什么房子出租？&quot;, &quot;output&quot;: &quot;查房源&quot;&#125;</span><br><span class="line">&#123;&quot;input&quot;: &quot;我想预约看房&quot;, &quot;output&quot;: &quot;预约看房&quot;&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后对 DeepSeek 进行微调，让它更精准地匹配你的业务场景。</p>
<h4 id="3-使用向量检索（Embedding-检索）"><a href="#3-使用向量检索（Embedding-检索）" class="headerlink" title="3. 使用向量检索（Embedding + 检索）"></a>3. 使用向量检索（Embedding + 检索）</h4><p>如果你的意图库是固定的，你可以使用 DeepSeek 的 embedding 模型，把所有的意图示例转换成向量，并存入向量数据库（如 FAISS、Milvus 等）。当用户输入查询时，把它的向量与已有意图的向量匹配，找最相似的意图。</p>
<h4 id="4-结合规则（正则-关键词匹配）-LLM"><a href="#4-结合规则（正则-关键词匹配）-LLM" class="headerlink" title="4. 结合规则（正则/关键词匹配）+ LLM"></a>4. 结合规则（正则/关键词匹配）+ LLM</h4><p>如果意图识别的需求比较简单，你可以先用关键词匹配或正则表达式筛选出明显的意图，再用 LLM 处理复杂情况。例如：<br>●如果输入中包含“租金”、“价格”，直接返回“查租金”；<br>●否则，调用 DeepSeek 进行意图识别。</p>
<p>这种方法可以减少 LLM 处理的请求量，提高效率。</p>
<h3 id="选型建议："><a href="#选型建议：" class="headerlink" title="选型建议："></a>选型建议：</h3><p>如果意图较少，规则清晰 → system 提示词就够了，简单高效。<br>如果数据多，想优化效果 → 适合微调模型，让它更精准。<br>如果意图较多，且经常更新 → 适合向量检索方案，灵活扩展。</p>
<h3 id="本地部署DeepSeek-R1-1-5B-效果："><a href="#本地部署DeepSeek-R1-1-5B-效果：" class="headerlink" title="本地部署DeepSeek-R1 1.5B 效果："></a>本地部署DeepSeek-R1 1.5B 效果：</h3><p>耗时3.84s，结果不稳定。<br>curl：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST &quot;http://10.33.158.12:11434/api/chat&quot; \</span><br><span class="line">     -H &quot;Content-Type: application/json&quot; \</span><br><span class="line">     -d &apos;&#123;</span><br><span class="line">           &quot;model&quot;: &quot;deepseek-r1:1.5b&quot;,</span><br><span class="line">           &quot;messages&quot;: [</span><br><span class="line">             &#123;</span><br><span class="line">               &quot;role&quot;: &quot;system&quot;,</span><br><span class="line">               &quot;content&quot;: &quot;你是一个经验丰富的专业租赁经纪人，负责识别用户的意图，并返回 JSON 格式的结果。\n你只需要返回 JSON，不要输出其他内容。\n\n返回格式如下：\n&#123;\n  \&quot;command\&quot;: \&quot;意图名称\&quot;,\n  \&quot;text\&quot;: \&quot;简短的回应\&quot;\n&#125;\n\n意图类别：\n- \&quot;查租金\&quot;：如果用户询问房屋租金、价格或费用相关信息\n- \&quot;发放优惠券\&quot;: 如果用户询问房源优惠信息\n- \&quot;看厨房\&quot;: 我想看看厨房\n- \&quot;预约实地带看\&quot;: 如果用户希望安排看房，想实地看看\n- \&quot;线上签约\&quot;: 如果用户想在线签约\n- \&quot;推荐房源\&quot;：如果用户询问还有别的房子可以看吗？有其他推荐吗？\n\n示例：\n用户：这个房子的租金是多少？\n你应该回复：\n&#123;\n  \&quot;command\&quot;: \&quot;查租金\&quot;,\n  \&quot;text\&quot;: \&quot;好的，帮你查一下租金\&quot;\n&#125;\n\n用户：附近有什么房子出租？\n你应该回复：\n&#123;\n  \&quot;command\&quot;: \&quot;推荐房源\&quot;,\n  \&quot;text\&quot;: \&quot;我来帮你找附近的房源\&quot;\n&#125;\n\n用户：我想预约看房\n你应该回复：\n&#123;\n  \&quot;command\&quot;: \&quot;预约实地带看\&quot;,\n  \&quot;text\&quot;: \&quot;好的，帮你预约看房\&quot;\n&#125;\n\n用户：有优惠吗？\n你应该回复：\n&#123;\n  \&quot;command\&quot;: \&quot;发放优惠券\&quot;,\n  \&quot;text\&quot;: \&quot;好的，帮你查看优惠信息\&quot;\n&#125;\n\n请严格按照 JSON 格式返回，不要输出其他内容。&quot;</span><br><span class="line">             &#125;,</span><br><span class="line">             &#123;</span><br><span class="line">               &quot;role&quot;: &quot;user&quot;,</span><br><span class="line">               &quot;content&quot;: &quot;能便宜吗？&quot;</span><br><span class="line">             &#125;</span><br><span class="line">           ],</span><br><span class="line">           &quot;temperature&quot;: 0,</span><br><span class="line">           &quot;stream&quot;: false,</span><br><span class="line">           &quot;max_tokens&quot;: 100</span><br><span class="line">         &#125;&apos;</span><br></pre></td></tr></table></figure></p>
<h3 id="DeepSeek官网API效果："><a href="#DeepSeek官网API效果：" class="headerlink" title="DeepSeek官网API效果："></a>DeepSeek官网API效果：</h3><p>耗时9.45s，结果稳定<br>curl：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">curl -L -X POST &apos;https://api.deepseek.com/chat/completions&apos; \</span><br><span class="line">-H &apos;Content-Type: application/json&apos; \</span><br><span class="line">-H &apos;Accept: application/json&apos; \</span><br><span class="line">-H &apos;Authorization: Bearer sk-e856b3fef50d4da1902b2a41de3c1a10&apos; \</span><br><span class="line">--data-raw &apos;&#123;</span><br><span class="line">  &quot;messages&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">               &quot;role&quot;: &quot;system&quot;,</span><br><span class="line">               &quot;content&quot;: &quot;你是一个经验丰富的专业租赁经纪人，负责识别用户的意图，并返回 JSON 格式的结果。\n你只需要返回 JSON，不要输出其他内容。\n\n返回格式如下：\n&#123;\n  \&quot;command\&quot;: \&quot;意图名称\&quot;,\n  \&quot;text\&quot;: \&quot;简短的回应\&quot;\n&#125;\n\n意图类别：\n- \&quot;查租金\&quot;：如果用户询问房屋租金、价格或费用相关信息\n- \&quot;发放优惠券\&quot;: 如果用户询问房源优惠信息\n- \&quot;看厨房\&quot;: 我想看看厨房\n- \&quot;预约实地带看\&quot;: 如果用户希望安排看房，想实地看看\n- \&quot;线上签约\&quot;: 如果用户想在线签约\n- \&quot;推荐房源\&quot;：如果用户询问还有别的房子可以看吗？有其他推荐吗？\n\n示例：\n用户：这个房子的租金是多少？\n你应该回复：\n&#123;\n  \&quot;command\&quot;: \&quot;查租金\&quot;,\n  \&quot;text\&quot;: \&quot;好的，帮你查一下租金\&quot;\n&#125;\n\n用户：附近有什么房子出租？\n你应该回复：\n&#123;\n  \&quot;command\&quot;: \&quot;推荐房源\&quot;,\n  \&quot;text\&quot;: \&quot;我来帮你找附近的房源\&quot;\n&#125;\n\n用户：我想预约看房\n你应该回复：\n&#123;\n  \&quot;command\&quot;: \&quot;预约实地带看\&quot;,\n  \&quot;text\&quot;: \&quot;好的，帮你预约看房\&quot;\n&#125;\n\n用户：有优惠吗？\n你应该回复：\n&#123;\n  \&quot;command\&quot;: \&quot;发放优惠券\&quot;,\n  \&quot;text\&quot;: \&quot;好的，帮你查看优惠信息\&quot;\n&#125;\n\n请严格按照 JSON 格式返回，不要输出其他内容。&quot;</span><br><span class="line">             &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;content&quot;: &quot;能便宜吗？&quot;,</span><br><span class="line">      &quot;role&quot;: &quot;user&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;model&quot;: &quot;deepseek-chat&quot;,</span><br><span class="line">  &quot;frequency_penalty&quot;: 0,</span><br><span class="line">  &quot;max_tokens&quot;: 2048,</span><br><span class="line">  &quot;presence_penalty&quot;: 0,</span><br><span class="line">  &quot;response_format&quot;: &#123;</span><br><span class="line">    &quot;type&quot;: &quot;text&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;stop&quot;: null,</span><br><span class="line">  &quot;stream&quot;: false,</span><br><span class="line">  &quot;stream_options&quot;: null,</span><br><span class="line">  &quot;temperature&quot;: 1,</span><br><span class="line">  &quot;top_p&quot;: 1,</span><br><span class="line">  &quot;tools&quot;: null,</span><br><span class="line">  &quot;tool_choice&quot;: &quot;none&quot;,</span><br><span class="line">  &quot;logprobs&quot;: false,</span><br><span class="line">  &quot;top_logprobs&quot;: null</span><br><span class="line">&#125;&apos;</span><br></pre></td></tr></table></figure></p>
<h2 id="本地部署支持的接口："><a href="#本地部署支持的接口：" class="headerlink" title="本地部署支持的接口："></a>本地部署支持的接口：</h2><h3 id="1-文本生成接口："><a href="#1-文本生成接口：" class="headerlink" title="1.文本生成接口："></a>1.文本生成接口：</h3><p>请求方式：POST /api/generate<br>功能：根据提供的提示词（prompt）生成文本。<br>请求参数：<br>●model（必需）：模型名称，例如 deepseek-r1:1.5b。<br>●prompt（必需）：要生成响应的提示词。<br>●stream（可选）：是否以流式方式返回响应。</p>
<p>curl示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST http://10.33.158.12:11434/api/generate \</span><br><span class="line">-H &quot;Content-Type: application/json&quot; \</span><br><span class="line">-d &apos;&#123;</span><br><span class="line">  &quot;model&quot;: &quot;deepseek-r1:1.5b&quot;,</span><br><span class="line">  &quot;prompt&quot;: &quot;请用专业经纪人给客户介绍房源的口吻帮我润色下：这是厨房&quot;,</span><br><span class="line">  &quot;stream&quot;: false</span><br><span class="line">&#125;&apos;</span><br></pre></td></tr></table></figure></p>
<p>效果：</p>
<h3 id="2-对话接口："><a href="#2-对话接口：" class="headerlink" title="2.对话接口："></a>2.对话接口：</h3><p>请求方式：POST /api/chat<br>功能：与模型进行多轮对话。<br>请求参数：<br>●model（必需）：模型名称。<br>●messages（必需）：一个包含对话历史的列表，每个消息包含 role（角色，如 user 或 assistant）和 content（内容）。<br>●stream（可选）：是否以流式方式返回响应。</p>
<p>curl示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST &quot;http://10.33.158.12:11434/api/chat&quot; \</span><br><span class="line">     -H &quot;Content-Type: application/json&quot; \</span><br><span class="line">     -d &apos;&#123;</span><br><span class="line">           &quot;model&quot;: &quot;deepseek-r1:1.5b&quot;,</span><br><span class="line">           &quot;messages&quot;: [</span><br><span class="line">             &#123;</span><br><span class="line">               &quot;role&quot;: &quot;system&quot;,</span><br><span class="line">               &quot;content&quot;: &quot;你是一个经验丰富的专业租赁经纪人，负责识别用户的意图，并返回 JSON 格式的结果。\n你只需要返回 JSON，不要输出其他内容。\n\n返回格式如下：\n&#123;\n  \&quot;command\&quot;: \&quot;意图名称\&quot;,\n  \&quot;text\&quot;: \&quot;简短的回应\&quot;\n&#125;\n\n意图类别：\n- \&quot;查租金\&quot;：如果用户询问房屋租金、价格或费用相关信息\n- \&quot;发放优惠券\&quot;: 如果用户询问房源优惠信息\n- \&quot;看厨房\&quot;: 我想看看厨房\n- \&quot;预约实地带看\&quot;: 如果用户希望安排看房，想实地看看\n- \&quot;线上签约\&quot;: 如果用户想在线签约\n- \&quot;推荐房源\&quot;：如果用户询问还有别的房子可以看吗？有其他推荐吗？\n\n示例：\n用户：这个房子的租金是多少？\n你应该回复：\n&#123;\n  \&quot;command\&quot;: \&quot;查租金\&quot;,\n  \&quot;text\&quot;: \&quot;好的，帮你查一下租金\&quot;\n&#125;\n\n用户：附近有什么房子出租？\n你应该回复：\n&#123;\n  \&quot;command\&quot;: \&quot;推荐房源\&quot;,\n  \&quot;text\&quot;: \&quot;我来帮你找附近的房源\&quot;\n&#125;\n\n用户：我想预约看房\n你应该回复：\n&#123;\n  \&quot;command\&quot;: \&quot;预约实地带看\&quot;,\n  \&quot;text\&quot;: \&quot;好的，帮你预约看房\&quot;\n&#125;\n\n用户：有优惠吗？\n你应该回复：\n&#123;\n  \&quot;command\&quot;: \&quot;发放优惠券\&quot;,\n  \&quot;text\&quot;: \&quot;好的，帮你查看优惠信息\&quot;\n&#125;\n\n请严格按照 JSON 格式返回，不要输出其他内容。&quot;</span><br><span class="line">             &#125;,</span><br><span class="line">             &#123;</span><br><span class="line">               &quot;role&quot;: &quot;user&quot;,</span><br><span class="line">               &quot;content&quot;: &quot;能便宜吗？&quot;</span><br><span class="line">             &#125;</span><br><span class="line">           ],</span><br><span class="line">           &quot;temperature&quot;: 0,</span><br><span class="line">           &quot;stream&quot;: false,</span><br><span class="line">           &quot;max_tokens&quot;: 100</span><br><span class="line">         &#125;&apos;</span><br></pre></td></tr></table></figure></p>
<p>效果：</p>
<p>结果不稳定</p>
<h3 id="3-列出模型"><a href="#3-列出模型" class="headerlink" title="3.列出模型"></a>3.列出模型</h3><p><a href="http://10.33.158.12:11434/api/tags" target="_blank" rel="noopener">http://10.33.158.12:11434/api/tags</a><br>效果：</p>
<h4 id="DeepSeek官网API支持的接口："><a href="#DeepSeek官网API支持的接口：" class="headerlink" title="DeepSeek官网API支持的接口："></a>DeepSeek官网API支持的接口：</h4><p><a href="https://api-docs.deepseek.com/zh-cn/api/create-chat-completion" target="_blank" rel="noopener">https://api-docs.deepseek.com/zh-cn/api/create-chat-completion</a><br><a href="https://api-docs.deepseek.com/zh-cn/api/create-completion" target="_blank" rel="noopener">https://api-docs.deepseek.com/zh-cn/api/create-completion</a><br><a href="https://api-docs.deepseek.com/zh-cn/api/list-models" target="_blank" rel="noopener">https://api-docs.deepseek.com/zh-cn/api/list-models</a> </p>
<h3 id="带上下文的意图"><a href="#带上下文的意图" class="headerlink" title="带上下文的意图"></a>带上下文的意图</h3><p>多轮对话放在messages里<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">messages: [</span><br><span class="line">    &#123;&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: &quot;你是一位乐于助人的助手&quot;&#125;,</span><br><span class="line">    &#123;&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;中国的首都是哪里？&quot;&#125;,</span><br><span class="line">    &#123;&quot;role&quot;: &quot;assistant&quot;, &quot;content&quot;: &quot;中国的首都是北京。&quot;&#125;,</span><br><span class="line">    &#123;&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;美国的首都是哪里？&quot;&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p><a href="https://api-docs.deepseek.com/zh-cn/guides/multi_round_chat" target="_blank" rel="noopener">https://api-docs.deepseek.com/zh-cn/guides/multi_round_chat</a> </p>
<h3 id="响应速度"><a href="#响应速度" class="headerlink" title="响应速度"></a>响应速度</h3><p>通常在几秒内返回</p>
<h3 id="Function-Calling"><a href="#Function-Calling" class="headerlink" title="Function Calling"></a>Function Calling</h3><p>Function Calling 让模型能够调用外部工具，来增强自身能力。<br>示例流程：<br>●用户：询问现在的天气<br>●模型：返回 function get_weather({location: ‘Hangzhou’})<br>●用户：调用 function get_weather({location: ‘Hangzhou’})，并传给模型。<br>●模型：返回自然语言，”The current temperature in Hangzhou is 24°C.”</p>
<p>注：上述代码中 get_weather 函数功能需由用户提供，模型本身不执行具体函数。<br><a href="https://api-docs.deepseek.com/zh-cn/guides/function_calling" target="_blank" rel="noopener">https://api-docs.deepseek.com/zh-cn/guides/function_calling</a> </p>

  </section>

</article>

<section class="read-more">
           
    
               
            <div class="read-more-item">
                <span class="read-more-item-dim">最近的文章</span>
                <h2 class="post-list__post-title post-title"><a href="/【Harmony】鸿蒙开发经验/" title="【Harmony】鸿蒙开发经验">【Harmony】鸿蒙开发经验</a></h2>
                <p class="excerpt">
                
                1.下拉刷新不支持边缘滑动效果问题描述页面下拉刷新无响应，拉不动
原因The edgeEffect value must be EdgeEffect.None文档链接：https://ohpm.openharmony.cn/#/cn/detail/@ohos%2Fpulltorefresh另外关联的
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2025-08-04T07:15:00.000Z" class="post-list__meta--date date">2025-08-04</time> &#8226; <span class="post-list__meta--tags tags">于 
  <a class="tag-link" href="/tags/鸿蒙开发/">鸿蒙开发</a>
</span><a class="btn-border-small" href="/【Harmony】鸿蒙开发经验/">阅读全文</a></div>
                           
            </div>
        
        
               
            <div class="read-more-item">
                <span class="read-more-item-dim">更早的文章</span>
                <h2 class="post-list__post-title post-title"><a href="/前端开发Tips/" title="【前端】开发Tips">【前端】开发Tips</a></h2>
                <p class="excerpt">
                
                1.添加 vConsole12345&amp;lt;script src=&#34;https://cdn.bootcss.com/vConsole/3.2.2/vconsole.min.js&#34;&amp;gt;&amp;lt;/script&amp;gt;&amp;lt;script&amp;gt;    var vConsole = new VCons
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2024-04-03T08:21:00.000Z" class="post-list__meta--date date">2024-04-03</time> &#8226; <span class="post-list__meta--tags tags">于 
  <a class="tag-link" href="/tags/前端/">前端</a>
</span><a class="btn-border-small" href="/前端开发Tips/">阅读全文</a></div>
                       
            </div>
        
     
   
   
  
</section>

  

            <footer class="footer">
    <span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>
    <span class="footer__copyright">
        &copy; 2025 Chance - All rights reserved.
       
    </span>
    <span class="footer__copyright">
            
         </span>
       
    
    
</footer>


        </div>
    </div>

     
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-130581623-1', 'auto');
	ga('send', 'pageview');
</script>

    
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?1fd71bc196ee52d6ace3860b092024e4";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>



    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    

    
</body>
</html>
